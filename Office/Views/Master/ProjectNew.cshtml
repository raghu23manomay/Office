
@model office.Models.nProjectDetail
<style>
    .control-label
    {
        font-size:12px!important;
    }
    .disp {
        display: block;
    }
    #row1 , #row2 {
        display: block!important;
    }
    .ibox.fullscreen .collapse-link {
        display: none;
    }

    .ibox-content1,  .iboxSurveyNo {
        display: block;
    }

    .iboxexternal, .iboxOffice, .iboxInternal ,.iboxProjDetails {
        display: none;
    }

    .ibox {
        margin-bottom: 15px !important;
    }
</style>
<script src="~/js/jquery-2.1.1.js"></script>
<form class="form-horizontal">
    <div class="row">

        <div class="col-lg-8">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Project Info</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-down"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content iboxCompanynfo">
                    <div class="form-group">
                        <label class="col-lg-2 control-label">Enquiry Date</label>
                        <div class="col-lg-4" style="display: inline-flex;">
                            <input type="date" id="EnquiryDate" value="@DateTime.Now.ToString("yyyy-MM-dd")" placeholder="EnquiryDate" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-2 control-label">Project</label>
                        <div class="col-lg-4">
                            <input type="text" id="ProjectName" placeholder="ProjectName" value="@Model.ProjectName" class="form-control">
                            @Html.HiddenFor(a => a.ProjectID, new { @id = "ProjectID" })
                        </div>
                        <label class="col-lg-2 control-label">Short Name</label>
                        <div class="col-lg-4">
                            <input id="ProjectShortName" type="text" placeholder="Short Form" value="@Model.ProjectShortName" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-lg-2 control-label">Developers </label>
                        <div class="col-lg-4">
                            @Html.DropDownList("internalCompanyID", new SelectList((System.Collections.IEnumerable)ViewData["CompanyList"], "Value", "Text"), "Select Company", new { @class = "form-control", @id = "DeveloperCompanyID", Title = "CompanyID" })
                        </div>

                        <div>
                            <label class="col-lg-2 control-label">Type</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("CompanyOwnershipTypeID", new SelectList((System.Collections.IEnumerable)ViewData["OwnershipTypeList"], "Value", "Text"), "Select", new { @class = "form-control", @id = "CompanyOwnershipTypeID", Title = "OwnershipTypeID" })
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>
                        Internal Team
                    </h5>
                    <div class="ibox-tools">
                        <button id="addMultiInternalTeam" class="btn btn-white pull-left" style="padding: 0px 12px;" type="button">
                            <i class="fa fa-plus" aria-hidden="true"></i>
                        </button>
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content iboxInternal">
                    <div class="Team">
                        <div class="form-group entityField">
                            <input type="hidden" value="0"  id="internalTeamid"/>
                            <label class="col-lg-2 control-label">Parent Company</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("ParentCompanyID", new SelectList((System.Collections.IEnumerable)ViewData["CompanyList"], "Value", "Text"), "Select Company", new { @class = "form-control", @id = "ParentCompanyID", Title = "CompanyID" })
                            </div>
                            <label class="col-lg-2 control-label">Person</label>
                            <div class="col-lg-4" style="display:inline-flex;">
                                @Html.DropDownList("InternalPersonId", new SelectList((System.Collections.IEnumerable)ViewData["InternalTeamUnderCompany"], "Value", "Text"), "Select Person", new { @class = "form-control", @id = "InternalPersonId", Title = "PersonId" })
                            </div>
                        </div>
                        <div class="form-group entityField">
                            <label class="col-lg-2 control-label">Designation</label>
                            <div class="col-lg-4" style="display:inline-flex;">
                                @Html.DropDownList("DesignationId1", new SelectList((System.Collections.IEnumerable)ViewData["TeamDesignationList"], "Value", "Text"), "Select Designation", new { @class = "form-control", @id = "DesignationId1", Title = "DesignationID" })
                            </div>
                            <label class="col-lg-2 control-label">Sub Designation</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("SubdesignationID1", new SelectList((System.Collections.IEnumerable)ViewData["TeamSubDesignationList"], "Value", "Text"), "Select Sub Designation", new { @class = "form-control", @id = "SubDesignationID1", Title = "PersonId" })
                            </div>
                        </div>
                        <div class="form-group entityField">

                            <label class="col-lg-2 control-label">Sub Designation</label>
                            <div class="col-lg-4" style="display:inline-flex;">
                                @Html.DropDownList("SubPartDesignationID1", new SelectList((System.Collections.IEnumerable)ViewData["TeamSubPartDesignationList"], "Value", "Text"), "Select Sub Designation", new { @class = "form-control", @id = "SubPartDesignationID1", Title = "DesignationID" })
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>
                        External Team
                    </h5>
                    <div class="ibox-tools">
                        <button id="addMultiExternalTeam" class="btn btn-white pull-left" type="button" style="padding: 0px 12px;">
                            <i class="fa fa-plus" aria-hidden="true"></i>
                        </button>
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content iboxexternal">
                    <div class="Team">
                        <div class="form-group entityField">
                            <label class="col-lg-2 control-label">Company</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("ExtTeamParentCompanyID", new SelectList((System.Collections.IEnumerable)ViewData["CompanyList"], "Value", "Text"), "Select Company", new { @class = "form-control", @id = "ExtTeamParentCompanyID", Title = "CompanyID" })
                            </div>
                            <label class="col-lg-2 control-label">Person</label>
                            <div class="col-lg-4" style="display:inline-flex;">
                                @Html.DropDownList("ExternalPersonId", new SelectList((System.Collections.IEnumerable)ViewData["ExternalTeamUnderCompany"], "Value", "Text"), "Select Person", new { @class = "form-control", @id = "ExternalPersonId", Title = "PersonId" })
                            </div>
                        </div>
                        <div class="form-group entityField">
                            <label class="col-lg-2 control-label">Designation</label>
                            <div class="col-lg-4" style="display:inline-flex;">
                                @Html.DropDownList("DesignationId2", new SelectList((System.Collections.IEnumerable)ViewData["TeamDesignationList"], "Value", "Text"), "Select Designation", new { @class = "form-control", @id = "DesignationId2", Title = "DesignationID" })
                            </div>
                            <label class="col-lg-2 control-label">Sub Designation</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("SubdesignationID2", new SelectList((System.Collections.IEnumerable)ViewData["TeamSubDesignationList"], "Value", "Text"), "Select Person", new { @class = "form-control", @id = "SubDesignationID2", Title = "DesignationID" })
                            </div>
                        </div>
                        <div class="form-group entityField">
                            <label class="col-lg-2 control-label">Sub Designation</label>
                            <div class="col-lg-4" style="display:inline-flex;">
                                @Html.DropDownList("SubPartDesignationID1", new SelectList((System.Collections.IEnumerable)ViewData["TeamSubPartDesignationList"], "Value", "Text"), "Select Designation", new { @class = "form-control", @id = "SubPartDesignationID2", Title = "DesignationID" })
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>
                        Office Side  
                    </h5>
                    <div class="ibox-tools">
                        <button id="addMultiOfficeSideTeam" class="btn btn-white pull-left" type="button" style="padding: 0px 12px;">
                            <i class="fa fa-plus" aria-hidden="true"></i>
                        </button>
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content iboxOfficeSide">
                    <div class="form-group entityField">
                        <label class="col-lg-2 control-label">Person</label>
                        <div class="col-lg-4">
                            @Html.DropDownList("OfficePersonId", new SelectList((System.Collections.IEnumerable)ViewData["PersonList"], "Value", "Text"), "Select Person", new { @class = "form-control", @id = "OfficePersonId", Title = "PersonId" })

                        </div>
                        <label class="col-lg-2 control-label">Designation</label>
                        <div class="col-lg-4" style="display:inline-flex;">
                            @Html.DropDownList("DesignationId3", new SelectList((System.Collections.IEnumerable)ViewData["TeamDesignationList"], "Value", "Text"), "Select Designation", new { @class = "form-control", @id = "DesignationId3", Title = "DesignationID" })
                        </div>
                    </div>
                    <div class="form-group entityField">
                        <label class="col-lg-2 control-label">Sub Designation</label>
                        <div class="col-lg-4">
                            @Html.DropDownList("SubdesignationID3", new SelectList((System.Collections.IEnumerable)ViewData["TeamSubDesignationList"], "Value", "Text"), "Select Person", new { @class = "form-control", @id = "SubDesignationID3", Title = "DesignationID" })
                        </div>
                        <label class="col-lg-2 control-label">Sub Designation</label>
                        <div class="col-lg-4" style="display:inline-flex;">
                            @Html.DropDownList("SubPartDesignationID3", new SelectList((System.Collections.IEnumerable)ViewData["TeamSubPartDesignationList"], "Value", "Text"), "Select Designation", new { @class = "form-control", @id = "SubPartDesignationID3", Title = "DesignationID" })
                        </div>
                    </div>
                </div>
                </div>
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>
                            Project Details
                        </h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content iboxProjDetails">
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Project Type</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("ProjectTypeId", new SelectList((System.Collections.IEnumerable)ViewData["ProjectTypeList"], "Value", "Text"), "Select Type", new { @class = "form-control", @id = "ProjectTypeId", Title = "ProjectTypeId" })
                            </div>
                            <label class="col-lg-2 control-label">Project Status</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("ProjectStatusId", new SelectList((System.Collections.IEnumerable)ViewData["ProjectStatusList"], "Value", "Text"), "Select Status", new { @class = "form-control", @id = "ProjectStatusId", Title = "ProjectStatusId" })
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Customer File No</label>
                            <div class="col-lg-4">
                                <input id="CustomerFileNo" value="@Model.CustomerFileNo" type="text" placeholder="Customer File No" class="form-control">
                            </div>
                            <label class="col-lg-2 control-label">File Location++</label>
                            <div class="col-lg-4">
                                <input id="PhysicalPath" type="text" placeholder="File Location"  class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Physical Path</label>
                            <div class="col-lg-4">
                                <input id="PhysicalPath" type="text" placeholder="Physical Path"  value="@Model.PhysicalPath" class="form-control">
                            </div>
                            <label class="col-lg-2 control-label">State</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("StateID", new SelectList((System.Collections.IEnumerable)ViewData["StateList"], "Value", "Text"), "Select State", new { @class = "form-control", @id = "StateID", Title = "StateID" })
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Default Taluka</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("CityID", new SelectList((System.Collections.IEnumerable)ViewData["CityList"], "Value", "Text"), "Select City", new { @class = "form-control", @id = "CityID", Title = "CityID" })
                            </div>
                            <label class="col-lg-2 control-label">Default District</label>
                            <div class="col-lg-4">
                                <input id="District" type="text" placeholder="District" value="@Model.District" class="form-control">
                            </div>
                        </div>
                        <div class="form-group"> 
                            <label class="col-lg-2 control-label">Road / Landmark</label>
                            <div class="col-lg-4">
                                <input id="Road" type="text" placeholder="Road" value="@Model.Road" class="form-control">
                            </div>
                            <label class="col-lg-2 control-label">Default Goan</label>
                            <div class="col-lg-4">
                                <input id="Goan" type="text" placeholder="Goan" value="@Model.Goan" class="form-control">
                            </div>
                        </div> 
                    </div>
                </div>

                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>
                            Pre proposal Details
                        </h5>

                        <div class="ibox-tools">

                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>


                        </div>
                    </div>


                    <div class="ibox-content iboxSurveyNo">



                        <div class="form-group">
                            <label class="col-lg-2 control-label">S.No,Gat No,CTS No.</label>

                            <div class="col-lg-4">
                                @Html.DropDownList("SurveyNoType", new SelectList((System.Collections.IEnumerable)ViewData["SurveyNoTypeList"], "Value", "Text"), "Select Type", new { @class = "form-control", @id = "SurveyNoType", Title = "SurveyNoType" })
                            </div>

                            <label class="col-lg-2 control-label"> Value</label>
                            <div class="col-lg-4">
                                <input id="SurveyNoValue" type="text" placeholder="Survey Value" class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Hissa No</label>
                            <div class="col-lg-4">
                                <input id="SurveyHissaNo" type="text" placeholder="Hissa No" class="form-control">
                            </div>

                            <div class="col-lg-3">
                                <input id="SurveyArea" type="text" placeholder="Area" class="form-control">
                            </div>
                            <div class="col-lg-2">
                                @Html.DropDownList("SurveyNoUnitId", new SelectList((System.Collections.IEnumerable)ViewData["UnitList"], "Value", "Text"), "Select Unit", new { @class = "form-control", @id = "SurveyNoUnitId", Title = "SurveyNoUnitId" })
                            </div>
                            <div class="col-lg-1">
                                <i class="fa fa-plus" id="addSurvay" aria-hidden="true" style="margin-left: 8px; margin-top: 9px;"></i>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-lg-2 control-label">Cost  </label>
                            <div class="col-lg-4">
                                <input id="Cost" type="text" placeholder="Cost" value="@Model.Cost" class="form-control">

                            </div>

                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Start Date</label>
                            <div class="col-lg-4">
                                <input id="StartDate" type="date" placeholder="StartDate" value="@Model.StartDate"  class="form-control">
                            </div>
                            <label class="col-lg-2 control-label">End Date</label>
                            <div class="col-lg-4">
                                <input id="Enddate" type="date" placeholder="EndDate"  value="@Model.EndDate"  class="form-control">
                            </div>
                        </div>

                    </div>
                </div>

                <div class="ibox float-e-margins">


                    <div class="ibox-title">
                        <h5>
                            Proposal detail entry 
                        </h5>
                        <div class="ibox-tools">
                            <button id="addMultiOwnerBlock" class="btn btn-white pull-left" style="padding:0px 12px;" type="button">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                            </button>
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content  iboxOwnership">
                        <div class="form-group">
                            <div class="col-lg-3">
                                <input id="Ow_SurveyNoValue" type="text" placeholder="Survey No." class="form-control">
                            </div>
                            <div class="col-lg-3">
                                <input id="Ow_HissaNo" type="text" placeholder="Hissa No" class="form-control">
                            </div>
                            <div class="col-lg-3">
                                <input id="Ow_PlotNo" type="text" placeholder="Plot No." class="form-control">
                            </div>
                            <div class="col-lg-3">
                                <input id="Ow_OldNo" type="text" placeholder="Old Survey.No." class="form-control">
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-lg-3">
                                <input id="G_SurveyNoValue" type="text" placeholder="Gat No." class="form-control">
                            </div>
                            <div class="col-lg-3">
                                <input id="G_HissaNo" type="text" placeholder="Hissa No" class="form-control">
                            </div>
                            <div class="col-lg-3">
                                <input id="G_PlotNo" type="text" placeholder="Plot No." class="form-control">
                            </div>
                            <div class="col-lg-3">
                                <input id="G_OldNo" type="text" placeholder="Old Gat.No." class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-3">
                                <input id="CTS_SurveyNoValue" type="text" placeholder="CTS No." class="form-control">
                            </div>
                            <div class="col-lg-3">
                                <input id="CTS_HissaNo" type="text" placeholder="Hissa No" class="form-control">
                            </div>
                            <div class="col-lg-3">
                                <input id="CTS_PlotNo" type="text" placeholder="Plot No." class="form-control">
                            </div>
                            <div class="col-lg-3">
                                <input id="CTS_OldNo" type="text" placeholder="Old CTS.No." class="form-control">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-3">
                                <input id="FP_SurveyNoValue" type="text" placeholder="Final Plot No." class="form-control">
                            </div>
                            <div class="col-lg-3">

                            </div>
                            <div class="col-lg-3">

                            </div>
                            <div class="col-lg-3">

                            </div>
                        </div>

                        <div>
                            <div>
                                <div class="hr-line-dashed" ></div>
                                <h5>
                                    Owner as per Ownership Document (7/12, Property Card)
                                </h5>
                                <div class="hr-line-dashed" ></div>
                            </div>
                           
                            <div>
                                <div class="form-group RowOwner" id="RowOwner" style="display:none;">
                                    <div class=" ">
                                        <label class="col-lg-2 control-label">Owner</label>
                                        <div class="col-lg-4">
                                            <input id="OwnerNameID" type="hidden" value="">
                                            <input id="OwnerName" type="text" placeholder="Owner Name" class="form-control">
                                        </div>
                                        <div class="col-lg-2">
                                        </div>
                                        <div class="col-lg-4">

                                        </div>
                                    </div>

                                </div>
                                <div class="form-group" id="RowOwner2">
                                    <div class=" ">
                                        <label class="col-lg-2 control-label">Owner</label>
                                        <div class="col-lg-4">
                                            <input id="OwnerNameID1" type="hidden" value="">
                                            <input id="OwnerName1" type="text" placeholder="Owner Name" class="form-control">
                                        </div>
                                        <div class="col-lg-2">
                                            <i class="fa fa-plus addMultiOwner" id="addMultiOwner" aria-hidden="true" style="margin-left: 8px; margin-top: 9px;"></i>
                                        </div>
                                        <div class="col-lg-4" style="margin-left: 0!important">
                                            <span class="IsultiOwner">
                                                @Html.CheckBox("s", new { @class = "", title = "Is Multiple Owner", @id = "IsultiOwner" })
                                                <label for="checkbox5">
                                                    Is Multiple Owner
                                                </label>
                                            </span>
                                        </div>
                                    </div>

                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 control-label">Area under proposal</label>
                                    <div class="col-lg-4">
                                        <input id="AreaUnderProposal" type="text" placeholder="Area" class="form-control">
                                    </div>
                                    <label class="col-lg-2 control-label">Units</label>
                                    <div class="col-lg-4">
                                        @Html.DropDownList("AreaUnderProposalUnitId", new SelectList((System.Collections.IEnumerable)ViewData["UnitList"], "Value", "Text"), "Select Unit", new { @class = "form-control", @id = "AreaUnderProposalUnitId", Title = "AreaUnderProposalUnitId" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Total Ownership Area</label>
                            <div class="col-lg-4">
                                <input id="TotalOwnershipArea" type="text" placeholder="Area" class="form-control">
                            </div>
                            <label class="col-lg-2 control-label">Units</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("TotalOwnershipAreaUnitId", new SelectList((System.Collections.IEnumerable)ViewData["UnitList"], "Value", "Text"), "Select Unit", new { @class = "form-control", @id = "TotalOwnershipAreaUnitId", Title = "TotalOwnershipAreaUnitId" })
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <label class="col-lg-2 control-label">Area under proposal (Cumulative)  </label>
                            <div class="col-lg-4">
                                <input id="TotalCumulativeAreaUnderProposal" type="text" placeholder="Area" class="form-control">
                            </div>
                            <label class="col-lg-2 control-label">Units</label>
                            <div class="col-lg-4">
                                @Html.DropDownList("TotalOwnershipAreaUnitId", new SelectList((System.Collections.IEnumerable)ViewData["UnitList"], "Value", "Text"), "Select Unit", new { @class = "form-control", @id = "TotalOwnershipAreaUnitId", Title = "TotalOwnershipAreaUnitId" })
                            </div>
                        </div>
                    </div>
                </div>
                <div class="hr-line-dashed"></div>
                <div class="row form-group">
                    <div class="col-md-3">
                    </div>
                    <div class="col-md-8 pull-right">
                        <div class="pull-right">
                            @Html.ActionLink("Cancel", "CompanyList", "Master", null, new { @class = "btn btn-white" })
                            <button class="btn btn-primary" id="btnsave" type="button">Save changes</button>
                        </div>
                    </div>
                </div>

            </div>


            <div class="col-lg-4">
                <div class="ibox float-e-margins">

                    <div class="ibox-content ibox-content1 ">
                        <div class="row">
                            <div class="form-group">
                                <div class="col-lg-12">
                                    <h5 class="help-block m-b-none" style="margin-bottom: 11px;">Survay</h5>
                                    <hr class="nosurvay" style="margin-top: 0px; margin-bottom: 5px;" />
                                </div>
                            </div>

                            <div class="col-sm-12">
                                <table class="table" id="survaylist">
                                    <thead>
                                        <tr>
                                            <th>Survay Type</th>

                                            <th>No</th>
                                            <th>Hissa No</th>
                                            <th>Area</th>
                                            <th>Unit</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>

                        <div class="divCertification">
                            <table class="table" id="tblCertification">
                                <thead>

                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>

                        <div>

                            <div class="CompanyAddressOuterDiv" id="CompanyAddressOuterDiv">

                            </div>


                            <div>
                                <span id="showOfcaddress2" class="col-lg-12" style="overflow-wrap:break-word;"></span>
                            </div>
                            <div>
                                <span id="showOfcstate" class="col-lg-12" style="overflow-wrap:break-word;"></span>
                            </div>
                            <div>
                                <span id="showOfccity" class="col-lg-12" style="overflow-wrap:break-word;"></span>
                            </div>
                            <div>
                                <span id="showOfcdistrict" class="col-lg-12" style="overflow-wrap:break-word;"></span>
                            </div>

                            <div>
                                <span id="showOfczip" class="col-lg-12" style="overflow-wrap:break-word;"></span>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>
</form>
<script>
    $(document).ready(function () {
        
        $('#addMultiInternalTeam').on("click", function (e) {
           $(".iboxInternal").show();
            var ProjectID = $('#ProjectID').val();
            if (ProjectID == 0) {  
                var ParentCompanyID = $("#ParentCompanyID").val();
                var ParentCompanyID_text = $("#ParentCompanyID option:selected").text();
                
                var InternalPersonId_Text = $("#InternalPersonId option:selected").text();
                var InternalPersonId = $("#InternalPersonId").val();
                var DesignationId1 = $("#DesignationId1 option:selected").val();
                var DesignationId1_text = $("#DesignationId1 option:selected").text();
                var SubDesignationID1 = $("#SubDesignationID1 option:selected").val();
                var SubDesignationID1_Text = $("#SubDesignationID1 option:selected").text();
                var SubPartDesignationID1 = $("#SubPartDesignationID1 option:selected").val();
                var SubPartDesignationID1_text = $("#SubPartDesignationID1 option:selected").text();
                if (SubDesignationID1_Text.trim() == "Select Sub Designation") {
                    SubDesignationID1_Text = "";
                }
                if (SubPartDesignationID1_text.trim() == "Select Sub Designation") {
                    SubPartDesignationID1_text = "";
                }
                var InternalTeamCount = 1;
                $('.MultiInternalTeam').each(function (k, v) {
                    InternalTeamCount++;
                });
                var binding = '<div class="col-md-12"><div class="MultiInternalTeam" InternalTeamCount= "' + InternalTeamCount + '" ParentCompanyID="' + ParentCompanyID + '" InternalPersonId="' +InternalPersonId + '" DesignationId1="' + DesignationId1 + '" SubDesignationID1="' + SubDesignationID1 + '" SubPartDesignationID1 ="' + SubPartDesignationID1 + '"> <span id= "ShowInternalPersonId" class="col-lg-12" style = "overflow-wrap:break-word;" >' + ParentCompanyID_text + '</span>  </div> <div ><span id="showDesignationId1" class="col-lg-12" style="overflow-wrap:break-word;">' + InternalPersonId_Text + '</span></div><div ><span id="showDesignationId1" class="col-lg-12" style="overflow-wrap:break-word;">' + DesignationId1_text + '</span></div><div > <span id="showOfcstate" class="col-lg-12" style="overflow-wrap:break-word;"></span></div><div ><span id="showSubDesignationID1" class="col-lg-12" style="overflow-wrap:break-word;">' + SubDesignationID1_Text + '</span> </div> <div > <span id="showSubPartDesignationID1" class="col-lg-12" style="overflow-wrap:break-word;">' + SubPartDesignationID1_text + '</span></div></div> <div class="col-lg-12"> <hr style = "margin-top: 11px; margin-bottom: 10px;"/></div> ';

                if (InternalPersonId != "" && DesignationId1 != "") {
                    $('.DivInternalTeam').last().append(binding);
                }
               
                 

            }
            else {
                debugger;
                  
                var ParentCompanyID = $("#ParentCompanyID").val();
                var InternalPersonId = $("#InternalPersonId").val();
                var internalTeamid = $("#internalTeamid").val();
                var DesignationId1 = $("#DesignationId1 option:selected").val();
                var DesignationId1_text = $("#DesignationId1 option:selected").text();
                var SubDesignationID1 = $("#SubDesignationID1 option:selected").val();
                var SubDesignationID1_Text = $("#SubDesignationID1 option:selected").text();
                var SubPartDesignationID1 = $("#SubPartDesignationID1 option:selected").val();
                var SubPartDesignationID1_text = $("#SubPartDesignationID1 option:selected").text();
                if (InternalPersonId == "") {
                    return false;
                }
                if (DesignationId1 == "") {
                    return false;
                }
                debugger;
                $.ajax({
                    type: 'POST',
                    dataType: 'json',
                    url: '/Master/SaveProjectInternalTeam',
                    data:
                    {
                        ProjectID: ProjectID
                        ,ParentCompanyID : ParentCompanyID
                        , internalTeamid: internalTeamid
                        , InternalPersonId: InternalPersonId
                        , DesignationId1: DesignationId1
                        , SubDesignationID1: SubDesignationID1
                        , SubPartDesignationID1: SubPartDesignationID1
                        
                    },
                    success: function (da) {
                        if (da != "Success") {
                            alert(da);
                        }
                        $("select#InternalPersonId").prop('selectedIndex', 0);
                        $("select#DesignationId1").prop('selectedIndex', 0);
                        $("select#SubDesignationID1").prop('selectedIndex', 0);
                        $("select#SubPartDesignationID1").prop('selectedIndex', 0); 
                        $("select#ParentCompanyID").prop('selectedIndex', 0);
                        $.ajax({
                            type: 'GET',
                            dataType: "text",
                            url: '/Master/GetProjectInfoLeftSide',
                            data:
                            {
                                ProjectID: $('#ProjectID').val()
                            },
                            success: function (data) {
                                $('#CompanyAddressOuterDiv').html(data);

                            },
                            error: function (XMLHttpRequest, textStatus, errorThrown) {
                            }
                        });

                    }, error: function (XMLHttpRequest, textStatus, errorThrown) {
                    }
                });
            }
        });

        $('#addMultiExternalTeam').on("click", function (e) {
            $(".iboxexternal").show();

            var ProjectID = $('#ProjectID').val();
            if (ProjectID == 0) {
                var ExtTeamParentCompanyID = $("#ExtTeamParentCompanyID").val();
                var ExtTeamParentCompanyID_text = $("#ExtTeamParentCompanyID option:selected").text();

                var ExternalPersonId_Text = $("#ExternalPersonId option:selected").text();
                var ExternalPersonId = $("#ExternalPersonId").val();
                var DesignationId2 = $("#DesignationId2 option:selected").val();
                var DesignationId2_text = $("#DesignationId2 option:selected").text();
                var SubDesignationID2 = $("#SubDesignationID2 option:selected").val();
                var SubDesignationID2_Text = $("#SubDesignationID2 option:selected").text();
                var SubPartDesignationID2 = $("#SubPartDesignationID2 option:selected").val();
                var SubPartDesignationID2_text = $("#SubPartDesignationID2 option:selected").text();
                if (SubDesignationID2_Text.trim() == "Select Sub Designation") {
                    SubDesignationID2_Text = "";
                }
                if (SubPartDesignationID2_text.trim() == "Select Sub Designation") {
                    SubPartDesignationID2_text = "";
                }
                var ExternalTeamCount = 1;
                $('.MultiExternalTeam').each(function (k, v) {
                    ExternalTeamCount++;
                });
                var binding = '<div class="col-md-12"><div class="MultiExternalTeam" ExtTeamParentCompanyID= "' + ExtTeamParentCompanyID + '" ExternalTeamCount= "' + ExternalTeamCount + '" ExternalPersonId="' + ExternalPersonId + '" DesignationId2="' + DesignationId2 + '" SubDesignationID2="' + SubDesignationID2 + '" SubPartDesignationID2 ="' + SubPartDesignationID2 + '"> <span id= "ShowInternalPersonId" class="col-lg-12" style = "overflow-wrap:break-word;" >' + ExtTeamParentCompanyID_text + '</span>  </div> <div ><span id="showDesignationId2" class="col-lg-12" style="overflow-wrap:break-word;">' + ExternalPersonId_Text + '</span></div><div ><span id="showDesignationId1" class="col-lg-12" style="overflow-wrap:break-word;">' + DesignationId2_text + '</span></div><div > <span id="showOfcstate" class="col-lg-12" style="overflow-wrap:break-word;"></span></div><div ><span id="showSubDesignationID1" class="col-lg-12" style="overflow-wrap:break-word;">' + SubDesignationID2_Text + '</span> </div> <div > <span id="showSubPartDesignationID2" class="col-lg-12" style="overflow-wrap:break-word;">' + SubPartDesignationID2_text + '</span></div></div> <div class="col-lg-12"> <hr style = "margin-top: 11px; margin-bottom: 10px;"/></div> ';

                if (InternalPersonId != "" && DesignationId2 != "") {
                    $('.DivExternalTeam').last().append(binding);
                }



            }
            else {
                debugger;


                var InternalPersonId = $("#InternalPersonId").val();

                var DesignationId1 = $("#DesignationId1 option:selected").val();
                var DesignationId1_text = $("#DesignationId1 option:selected").text();
                var SubDesignationID1 = $("#SubDesignationID1 option:selected").val();
                var SubDesignationID1_Text = $("#SubDesignationID1 option:selected").text();
                var SubPartDesignationID1 = $("#SubPartDesignationID1 option:selected").val();
                var SubPartDesignationID1_text = $("#SubPartDesignationID1 option:selected").text();
                if (InternalPersonId == "") {
                    return false;
                }
                if (DesignationId1 == "") {
                    return false;
                }
                debugger;
                $.ajax({
                    type: 'POST',
                    dataType: 'json',
                    url: '/Master/SaveInternalTeam',
                    data:
                    {
                        CompanyId: CompanyID
                        , internalTeamid: internalTeamid
                        , InternalPersonId: InternalPersonId
                        , DesignationId1: DesignationId1
                        , SubDesignationID1: SubDesignationID1
                        , SubPartDesignationID1: SubPartDesignationID1
                        , SaveInternalTeamMobile: SaveMobileNoTeam1
                    },
                    success: function (da) {
                        if (da != "Success") {
                            alert(da);
                        }
                        $("select#InternalPersonId").prop('selectedIndex', 0);
                        $("select#DesignationId1").prop('selectedIndex', 0);
                        $("select#SubDesignationID1").prop('selectedIndex', 0);
                        $("select#SubPartDesignationID1").prop('selectedIndex', 0);


                        $.ajax({
                            type: 'GET',
                            dataType: "text",
                            url: '/Master/GetCompanyInfoLeftSide',
                            data:
                            {
                                CompanyId: $('#CompanyID').val()
                            },
                            success: function (data) {
                                $('#CompanyAddressOuterDiv').html(data);

                            },
                            error: function (XMLHttpRequest, textStatus, errorThrown) {
                            }
                        });

                    }, error: function (XMLHttpRequest, textStatus, errorThrown) {
                    }
                });
            }
        });
        $('#addMultiOwnerBlock').on("click", function (e) {
           
            $('.iboxOwnership').show();
            var DbAddressID = 0;// $('#DbAddressID').val();
            
            var AreaUnderProposal = $("#AreaUnderProposal").val(); 
            var TotalOwnershipArea = $("#TotalOwnershipArea").val();
            var AreaUnderProposalUnitId = $("#AreaUnderProposalUnitId option:selected").val(); 
            var AreaUnderProposalUnitText = $("#AreaUnderProposalUnitId option:selected").text();
            var TotalOwnershipAreaUnitId = $("#TotalOwnershipAreaUnitId option:selected").val();
            var TotalOwnershipAreaUnitText = $("#TotalOwnershipAreaUnitId option:selected").text();
              
            //Adding multipal Mobile no into array
           

            if (DbAddressID > 0) {
                $.ajax({
                    type: 'POST',
                    dataType: 'json',
                    url: '/Master/SaveCompanyOfficeAddress',
                    data:
                    {
                        CompanyId: $('#CompanyID').val()
                        , AddressID: $('#DbAddressID').val()
                        , Address1: $('#OfcAddress1').val()
                        , Address2: $('#OfcAddress2').val()
                        , StateID: $("#StateID2 option:selected").val()
                        , District: $('#OfcDistrict').val()
                        , CityID: $("#CityID2 option:selected").val()
                        , ZipCode: $('#OfcZip').val()
                        , Website: ""
                        , SaveMobileNo: SaveMobileNo

                    },
                    success: function (da) {

                        if (da != "Success") {
                            alert(da);
                        }
                        $("#MobileType").val(0);
                        $(".MobileNo").val("");
                        $("#MobileWorkDepartment").val(0);
                        $("#MobileNoExtension").val("");

                        if ($("#row1").length > 0) {
                            $("#row1").remove();
                        }
                        if ($("#row2").length > 0) {
                            $("#row2").remove();
                        }
                        if ($("#row3").length > 0) {
                            $("#row3").remove();
                        }
                        if ($("#row4").length > 0) {
                            $("#row4").remove();
                        }
                        if ($("#rowEmail1").length > 0) {
                            $("#rowEmail1").remove();
                        }
                        if ($("#rowEmail2").length > 0) {
                            $("#rowEmail2").remove();
                        }
                        if ($("#rowEmail3").length > 0) {
                            $("#rowEmail3").remove();
                        }
                        if ($("#rowEmail4").length > 0) {
                            $("#rowEmail4").remove();
                        }
                        $("#OfcAddress1").val("");
                        $("#OfcAddress2").val("");
                        $("#StateID2").val("0");
                        GetCity();
                        $("#OfcDistrict").val("");
                        $("#CityID2").val(0);
                        $("#OfcZip").val("");
                        $.ajax({
                            type: 'GET',
                            dataType: "text",
                            url: '/Master/GetCompanyInfoLeftSide',
                            data:
                            {
                                CompanyId: $('#CompanyID').val()

                            },
                            success: function (data) {

                                $('#CompanyAddressOuterDiv').html(data);

                            },
                            error: function (XMLHttpRequest, textStatus, errorThrown) {
                            }
                        });

                    }, error: function (XMLHttpRequest, textStatus, errorThrown) {
                    }

                });
            }
            else {
                var count = 1;
                $('.MultiProposalArea').each(function (k, v) {
                    count++;
                });

                var binding = '<table class="table"><thead><th>Proposed Area</th><th>Total Ownership Area</th></thead><tbody><tr ><td class="MultiProposalArea" OwnerCount="' + count + '"  AreaUnderProposal="' + AreaUnderProposal + '" AreaUnderProposalUnitId="' + AreaUnderProposalUnitId + '"> <span id= "OwnerName" class="col-lg-12" style = "overflow-wrap:break-word;" >' + AreaUnderProposal + '-' + AreaUnderProposalUnitText + '</span></td>  <td id= "OwnerName" class="col-lg-12" style = "overflow-wrap:break-word;" >' + TotalOwnershipArea + '-' + TotalOwnershipAreaUnitText + '</td> </tr> </tbody></table>        <hr style="margin-top: 11px; margin-bottom: 10px;">';
                $('.divAddress').append('<div class="DivAddressMobile"> </div>')
                $('.divAddress').append('<div class="DivAddressInner"> </div>')
                $('.DivAddressInner').last().append(binding);

                var idArrOwner = [];
                $('.RowOwner ').each(function (k, v) {

                    var OwnerName = $(this).closest("div").find("#OwnerName").val();

                    var OwnerNameID = $(this).closest("div").find("#OwnerNameID").val();
                    var tdVals = OwnerNameID + "~" + OwnerName;

                    if (OwnerName != "") {
                        idArrOwner.push(tdVals);
                        var bindrow1 = '<tr><td class="MultiMobileNo" AddressID="' + count + '" OwnerName="' + OwnerName + '" OwnerNameID="' + OwnerNameID + '">'+OwnerName+'</td> <td><i class="fa fa-times deleterow pull-right" id="mydel" aria-hidden="true"></i></td></tr>'
                         $('.DivAddressInner').last().append(bindrow1);
                    }
                });
               

                var SaveOwner = [];

                for (var i = 0; i < idArrOwner.length; i++) {
                    var arrElement = idArrOwner[i].split("~");
                    item = {}
                    item["OwnerNameID"] = arrElement[0];
                    item["OwnerName"] = arrElement[1];

                    SaveOwner.push(item);
                }
               
                
            }

        });

        $('#addMultiOfficeSideTeam').on("click", function (e) {
            $(".iboxOfficeSide").show();

            var ProjectID = $('#ProjectID').val();
            if (ProjectID == 0) {
                

                var OfficePersonId_text = $("#OfficePersonId option:selected").text();
                var OfficePersonId = $("#OfficePersonId").val();
                var DesignationId3 = $("#DesignationId3 option:selected").val();
                var DesignationId3_text = $("#DesignationId3 option:selected").text();
                var SubDesignationID3 = $("#SubDesignationID3 option:selected").val();
                var SubDesignationID3_Text = $("#SubDesignationID3 option:selected").text();
                var SubPartDesignationID3 = $("#SubPartDesignationID3 option:selected").val();
                var SubPartDesignationID3_text = $("#SubPartDesignationID3 option:selected").text();
                if (SubDesignationID3_Text.trim() == "Select Sub Designation") {
                    SubDesignationID3_Text = "";
                }
                if (SubPartDesignationID3_text.trim() == "Select Sub Designation") {
                    SubPartDesignationID3_text = "";
                }
                var OfficeSideTeamCount = 1;
                $('.MultiOfficeSideTeam').each(function (k, v) {
                    OfficeSideTeamCount++;
                });
                var binding = '<div class="col-md-12"><div class="MultiOfficeSideTeam" OfficeSideTeamCount= "' + OfficeSideTeamCount + '" OfficePersonId="' + OfficePersonId + '" DesignationId3="' + DesignationId3 + '" SubDesignationID3="' + SubDesignationID3 + '" SubPartDesignationID3 ="' + SubPartDesignationID3 + '">   <span id="showDesignationId2" class="col-lg-12" style="overflow-wrap:break-word;">' + OfficePersonId_text + '</span></div><div ><span id="showDesignationId3" class="col-lg-12" style="overflow-wrap:break-word;">' + DesignationId3_text + '</span></div><div > <span id="showOfcstate" class="col-lg-12" style="overflow-wrap:break-word;"></span></div><div ><span id="showSubDesignationID3" class="col-lg-12" style="overflow-wrap:break-word;">' + SubDesignationID3_Text + '</span> </div> <div > <span id="showSubPartDesignationID3" class="col-lg-12" style="overflow-wrap:break-word;">' + SubPartDesignationID3_text + '</span></div></div> <div class="col-lg-12"> <hr style = "margin-top: 11px; margin-bottom: 10px;"/></div> ';

                if (OfficePersonId != "" && DesignationId3 != "") {
                    $('.DivOfficeSideTeam').last().append(binding);
                }



            }
            else {
                debugger;


                var InternalPersonId = $("#InternalPersonId").val();

                var DesignationId1 = $("#DesignationId1 option:selected").val();
                var DesignationId1_text = $("#DesignationId1 option:selected").text();
                var SubDesignationID1 = $("#SubDesignationID1 option:selected").val();
                var SubDesignationID1_Text = $("#SubDesignationID1 option:selected").text();
                var SubPartDesignationID1 = $("#SubPartDesignationID1 option:selected").val();
                var SubPartDesignationID1_text = $("#SubPartDesignationID1 option:selected").text();
                if (InternalPersonId == "") {
                    return false;
                }
                if (DesignationId1 == "") {
                    return false;
                }
                debugger;
                $.ajax({
                    type: 'POST',
                    dataType: 'json',
                    url: '/Master/SaveInternalTeam',
                    data:
                    {
                        CompanyId: CompanyID
                        , internalTeamid: internalTeamid
                        , InternalPersonId: InternalPersonId
                        , DesignationId1: DesignationId1
                        , SubDesignationID1: SubDesignationID1
                        , SubPartDesignationID1: SubPartDesignationID1
                        , SaveInternalTeamMobile: SaveMobileNoTeam1
                    },
                    success: function (da) {
                        if (da != "Success") {
                            alert(da);
                        }
                        $("select#InternalPersonId").prop('selectedIndex', 0);
                        $("select#DesignationId1").prop('selectedIndex', 0);
                        $("select#SubDesignationID1").prop('selectedIndex', 0);
                        $("select#SubPartDesignationID1").prop('selectedIndex', 0);


                        $.ajax({
                            type: 'GET',
                            dataType: "text",
                            url: '/Master/GetCompanyInfoLeftSide',
                            data:
                            {
                                CompanyId: $('#CompanyID').val()
                            },
                            success: function (data) {
                                $('#CompanyAddressOuterDiv').html(data);

                            },
                            error: function (XMLHttpRequest, textStatus, errorThrown) {
                            }
                        });

                    }, error: function (XMLHttpRequest, textStatus, errorThrown) {
                    }
                });
            }
        });
        
        $('.addMultiOwner').on("click", function (e) {
           
            var cloneCount = 1;
            $('#RowOwner')
                .clone(true)
                .attr('id', 'row' + cloneCount++, 'class', 'row RowOwnern disp')
                .insertAfter('[id=RowOwner2]:last').find("input").val("").find('#IsultiOwner').remove();
 
            
            return false;
        });
         
        $.ajax({
            type: 'GET',
            dataType: "text",
            url: '/Master/GetProjectInfoLeftSide',
            data:
            {
                ProjectID: $('#ProjectID').val()

            },
            success: function (data) {


                $('#CompanyAddressOuterDiv').html(data);

            },
            error: function (XMLHttpRequest, textStatus, errorThrown) {
            }
        });
        $('#addSurvay').on("click", function (e) {
            
            var SurveyNoType = $("#SurveyNoType option:selected").text();
            var SurveyNoTypeID = $("#SurveyNoType option:selected").val();
            var SurveyNoValue = $("#SurveyNoValue").val();
            var SurveyArea = $("#SurveyArea").val();
            var SurveyHissaNo = $("#SurveyHissaNo").val();
            
            var SurvayUnittext = $("#SurveyNoUnitId option:selected").text();
            var SurvayUnitId = $("#SurveyNoUnitId option:selected").val();
            var bindrow = '<tr><td>' + SurveyNoType + '</td><td class="hidden" >' + SurveyNoTypeID + '</td><td >' + SurveyNoValue + '</td><td>' + SurveyHissaNo + '</td> </td> <td>' + SurveyArea + '</td><td>' + SurvayUnittext + '</td><td class="hidden">' + SurvayUnitId + '</td> <td><i class="fa fa-times deleterow pull-right" id="mydel" aria-hidden="true"></i></td></tr>'
            $('#survaylist tbody').append(bindrow);
        });

        
        $('#ExtTeamParentCompanyID').change(function () {
             $.ajax({
                url: "@Url.Action("GetExternalTeamUnderCompany", "Master")",
                contentType: "application/json",
                data: JSON.stringify({
                    CompanyID: $('#ExtTeamParentCompanyID').val(),
                }),
                dataType: "text",
                type: "POST",
                async: true,
                success: function (data) {
                    $('#ExternalPersonId').html(data);
                },
                error: function (data) {

                },
                complete: function () {
                }
            });
            return true;
        });
        $('#ParentCompanyID').change(function () {
             $.ajax({
                url: "@Url.Action("GetInternalTeamUnderCompany", "Master")",
                contentType: "application/json",
                data: JSON.stringify({
                    CompanyID: $('#ParentCompanyID').val(),
                }),
                dataType: "text",
                type: "POST",
                async: true,
                success: function (data) {
                    $('#InternalPersonId').html(data);
                },
                error: function (data) {

                },
                complete: function () {
                }
            });
            return true;
        });
        $('#CategoryID1').change(function () {

            $.ajax({
                url: "@Url.Action("CategoryWiseSubCategory", "Master")",
                contentType: "application/json",
                data: JSON.stringify({
                    CategoryID: $('#CategoryID1').val(),
                }),
                dataType: "text",
                type: "POST",
                async: true,
                success: function (data) {
                    $('#SubCategoryID1').html(data);
                },
                error: function (data) {

                },
                complete: function () {
                }
            });
            return true;

        });
        $('#CategoryID2').change(function () {

            $.ajax({
                url: "@Url.Action("CategoryWiseSubCategory", "Master")",
                contentType: "application/json",
                data: JSON.stringify({
                    CategoryID: $('#CategoryID2').val(),
                    val:2
                }),
                dataType: "text",
                type: "POST",
                async: true,
                success: function (data) {
                    $('#SubCategoryID2').html(data);
                },
                error: function (data) {

                },
                complete: function () {
                }
            });
            return true;
        });
            
        $(document).on('click', 'i.deleterow', function (e) {
            e.preventDefault();
            $(this).parents('tr').remove();
        });

        
        $('#IsultiOwner').on('click', function () {
            var val = document.getElementById("IsultiOwner").checked;
            if (val == true) {
                $('#addMultiOwner').show();
            }
            else {
                $('#addMultiOwner').hide();
            }
        });
        $('#StateID').change(function ()
        {
            GetCity();
        });
                  
        $('#btnsave').on('click', function () {
            
            var idArrsurvay = [];
            $('#survaylist tbody tr').each(function (k, v) {
                var trElement = $(this);
                var tdVals = trElement.find('td:eq(0)').text().trim() + "~" +
                    trElement.find('td:eq(1)').text().trim() + "~" +
                    trElement.find('td:eq(2)').text().trim() + "~" +
                    trElement.find('td:eq(3)').text().trim() + "~" +
                    trElement.find('td:eq(4)').text().trim() + "~" +
                    trElement.find('td:eq(5)').text().trim() + "~" +
                    trElement.find('td:eq(6)').text().trim()
                idArrsurvay.push(tdVals);
            });

            var SaveSurvayDetails = [];
            for (var i = 0; i < idArrsurvay.length; i++) {
                var arrElement = idArrsurvay[i].split("~");
                item = {}
              
                item["SurvayDetailId"] = 0;
                item["SurvayTypeID"] = arrElement[1];
                item["SurvayNo"] = arrElement[2];
                item["HissaNo"] = arrElement[3];
                item["Area"] = arrElement[4];
                item["UnitID"] = arrElement[6];
                SaveSurvayDetails.push(item);
            }
            debugger;
            //Adding multipal Internal Team into array
            var idArrInternalTeam = [];
            $('.MultiInternalTeam').each(function (k, v) {
                var tdVals = $(this).attr("parentcompanyid") + "~" + $(this).attr("internalpersonid") + "~" + $(this).attr("designationid1") + "~" + $(this).attr("subdesignationid1") + "~" + $(this).attr("subpartdesignationid1") + "~" + $(this).attr("internalteamcount");
                idArrInternalTeam.push(tdVals);
            });

            var SaveInternalTeam = [];
            for (var i = 0; i < idArrInternalTeam.length; i++) {
                var arrElement = idArrInternalTeam[i].split("~");
                item = {}
               
                item["parentcompanyid"] = arrElement[0];
                item["internalpersonid"] = arrElement[1];
                item["designationid1"] = arrElement[2];
                item["subdesignationid1"] = arrElement[3];
                item["subpartdesignationid1"] = arrElement[4];
                item["internalTeamid"] = arrElement[5];
                SaveInternalTeam.push(item);
            }

            //Adding multipal Internal Team into array
            var idArrExternalTeam = [];
            $('.MultiExternalTeam').each(function (k, v) {
                var tdVals = $(this).attr("ExtTeamParentCompanyID") + "~" + $(this).attr("externalpersonid") + "~" + $(this).attr("designationid2") + "~" + $(this).attr("subdesignationid2") + "~" + $(this).attr("subpartdesignationid2") + "~" + $(this).attr("externalteamcount");
                idArrExternalTeam.push(tdVals);
            });

            var SaveExternalTeam = [];
            for (var i = 0; i < idArrExternalTeam.length; i++) {
                var arrElement = idArrExternalTeam[i].split("~");
                item = {}

                item["parentcompanyid"] = arrElement[0];
                item["Externalpersonid"] = arrElement[1];
                item["designationid1"] = arrElement[2];
                item["subdesignationid1"] = arrElement[3];
                item["subpartdesignationid1"] = arrElement[4];
                item["ExternalTeamid"] = arrElement[5];
                SaveExternalTeam.push(item);
            }

            //Adding multipal Offie side Team into array
            var idArrOfficeSideTeam = [];
            $('.MultiOfficeSideTeam').each(function (k, v) {
                var tdVals =   $(this).attr("officepersonid") + "~" + $(this).attr("designationid3") + "~" + $(this).attr("subdesignationid3") + "~" + $(this).attr("subpartdesignationid3") + "~" + $(this).attr("officesideteamcount");
                idArrOfficeSideTeam.push(tdVals);
            });

            var SaveOfficeSideTeam = [];
            for (var i = 0; i < idArrExternalTeam.length; i++) {
                var arrElement = idArrExternalTeam[i].split("~");
                item = {} 
                
                item["personid"] = arrElement[1];
                item["designationid1"] = arrElement[2];
                item["subdesignationid1"] = arrElement[3];
                item["subpartdesignationid1"] = arrElement[4];
                item["Teamid"] = arrElement[5];
                SaveOfficeSideTeam.push(item);
            }

            $.ajax({
                type: 'POST',
                dataType: 'json',
                url: '/Master/SaveProjectNew',
                data:
                {
                    ProjectID: 0,
                    ProjectName: $('#ProjectName').val(),
                    EnquiryDate: $('#EnquiryDate').val(),
                    ProjectShortName: $('#ProjectShortName').val(),
                    StatusId: $('#ProjectStatusId option:selected').val(),
                    ProjectTypeId: $('#ProjectTypeId option:selected').val(),
                    CustomerFileNo: $('#CustomerFileNo').val(),
                    PhysicalPath: $('#PhysicalPath').val(),
                    StateID: $('#StateID').val(),
                    District: $('#District').val(),
                    TalukaID: $('#CityID').val(),
                    Goan: $(' #Goan').val(),
                    Road: $('#Road').val(),   
                    Cost: $('#Cost').val(),
                    StartDate: $('#StartDate').val(),
                    EndDate: $(' #Enddate').val(),
                    SaveSurvayDetails: SaveSurvayDetails,
                    SaveProjectInternalTeam: SaveInternalTeam,
                    SaveProjectExternalTeam: SaveExternalTeam,
                    
                },
                success: function (da) {
                    alert(da);
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                }
            });

          
        }); 
         $('#DesignationId1').change(function ()
        {
            $.ajax({
            url: "@Url.Action("BindTeamSubDesignation", "Master")",
            contentType: "application/json",
                data: JSON.stringify({
                    DesignationID: $('#DesignationId1').val(),
            }),
            dataType: "text",
            type: "POST",
            async: true,
                success: function (data) {
                $('#SubDesignationID1').html(data);

            },
            error: function (data) {  
            },
            complete: function () { 
            }

            });
            return true;

        });
         $('#DesignationId2').change(function ()
        {

            $.ajax({
            url: "@Url.Action("BindTeamSubDesignation", "Master")",
            contentType: "application/json",
                data: JSON.stringify({
                    DesignationID: $('#DesignationId2').val(),
                    Val : 2
            }),
            dataType: "text",
            type: "POST",
            async: true,
                success: function (data) {
                $('#SubDesignationID2').html(data);
            },
            error: function (data) {


            },
            complete: function () {

            }

            });
            return true;

        });
            $('#DesignationId3').change(function ()
        {
            $.ajax({
            url: "@Url.Action("BindTeamSubDesignation", "Master")",
            contentType: "application/json",
                data: JSON.stringify({
                    DesignationID: $('#DesignationId3').val(),
                    val : 3
            }),
            dataType: "text",
            type: "POST",
            async: true,
                success: function (data) {
                $('#SubDesignationID3').html(data);

            },
            error: function (data) {  
            },
            complete: function () { 
            }

            });
            return true;

        });
        $('#SubDesignationID1').change(function ()
        {

            $.ajax({
            url: "@Url.Action("BindTeamSubPartDesignation", "Master")",
            contentType: "application/json",
                data: JSON.stringify({
                    SubDesignationId: $('#SubDesignationID1').val(),
            }),
            dataType: "text",
            type: "POST",
            async: true,
                success: function (data) {
                $('#SubPartDesignationID1').html(data);

            },
            error: function (data) {


            },
            complete: function () {

            }

            });
            return true;

        });
        $('#SubDesignationID2').change(function () {

            $.ajax({
            url: "@Url.Action("BindTeamSubPartDesignation", "Master")",
            contentType: "application/json",
                data: JSON.stringify({
                    SubDesignationId: $('#SubDesignationID2').val(),
                    Val: 2
            }),
            dataType: "text",
            type: "POST",
            async: true,
                success: function (data) {
                $('#SubPartDesignationID2').html(data);

            },
            error: function (data) {


            },
            complete: function () {

            }

            });
            return true;

        });
         $('#SubDesignationID3').change(function () {

            $.ajax({
            url: "@Url.Action("BindTeamSubPartDesignation", "Master")",
            contentType: "application/json",
                data: JSON.stringify({
                    SubDesignationId: $('#SubDesignationID3').val(),
                    Val: 3
            }),
            dataType: "text",
            type: "POST",
            async: true,
                success: function (data) {
                $('#SubPartDesignationID3').html(data);

            },
            error: function (data) {


            },
            complete: function () {

            }

            });
            return true;

        });
    function GetCity() {

         $.ajax({
            url: "@Url.Action("FliterStateWiseCity", "Master")",
            contentType: "application/json",
                data: JSON.stringify({
                StateID: $('#StateID').val(),
            }),
            dataType: "text",
             type: "POST",
             async: false,
            success: function (data) {
                $('#CityID2').html(data);

            },
            error: function (data) {


            },
            complete: function () {

            }

            });
            return true;
        }
    });
</script>
