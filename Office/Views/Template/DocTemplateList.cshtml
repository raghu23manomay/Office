
 
@using PagedList;
@using PagedList.Mvc;
@using GridMvc.Html
<script src="~/js/jquery-2.1.1.js"></script>
 
<div class="row">
    <div class="col-lg-3">
        <div class="ibox float-e-margins">
            <div class="ibox-content mailbox-content">
                <div class="file-manager">
                    <a class="btn btn-block btn-primary compose-mail" href="/Template/Compose">Create Template</a>
                    <div class="space-25"></div> 
                    <h5>Categories</h5>
                    <div id="departments"> 
                    </div> 
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-9 animated fadeInRight" id="mgrid">
      

    </div>
</div>
 


<script>
    
    $(document).ready(function () {


        $.ajax({
            url: "@Url.Action("DepartmentType", "Template")",
            data:
            {
                TemplateID: 1        
            },
            dataType: "text",

            success: function (data) {
                $('#departments').html(data);
            },
            error: function (error) {
            }
        });
         $.ajax({
            url: "@Url.Action("LoadDocTemplateGrid", "Template")",
            data:
            {
                page: 1,
                DepartmentID: 0  
            },
             dataType: "text",
             type: "POST",
             async: true,
             success: function (data) {
                 debugger;
                 $('#mgrid').html(data);
             },
             error: function (data) {
             },
             complete: function () {
             }
        });

        $('#mgrid .pagination li a').on('click', function (e) {
            e.preventDefault();
            e.stopImmediatePropagation();
            $('.loader').show();
            var temp = $(this).attr('href');
            
            var pageid = temp.replace('/?page=', '');

            $.ajax({
                url: "@Url.Action("LoadDocTemplateGrid", "Template")",
                contentType: "application/json",
                data: JSON.stringify({
                    page: pageid,
                    DepartmentID: 0 // $('#CustomerFilter').val(),
                }),
                dataType: "text",
                type: "POST",
                async: true,
                success: function (data) {
                    $('#mgrid').html(data);

                },
                error: function (data) {
                },
                complete: function () {
                }
            });

        });

      
    });


   
</script>